<?xml version="1.0"?>
<configuration>
    <registers>
        <register name="BFPR" type="mmio" bar="SPIBAR" offset="0x00" size="4" desc="BIOS Flash Primary Region Register (= FREG1)">
            <field name="PRB"  bit="0"  size="15" desc="BIOS Flash Primary Region Base"/>
            <field name="PRL"  bit="16" size="15" desc="BIOS Flash Primary Region Limit"/>
        </register>
        <register name="HSFS" type="mmio" bar="SPIBAR" offset="0x04" size="4" desc="Hardware Sequencing Flash Status Register">
            <field name="FDONE"   bit="0"  size="1" desc="Flash Cycle Done"/>
            <field name="FCERR"   bit="1"  size="1" desc="Flash Cycle Error"/>
            <field name="AEL"     bit="2"  size="1" desc="Access Error Log"/>
            <field name="SCIP"    bit="5"  size="1" desc="SPI cycle in progress"/>
            <field name="WRSDIS"  bit="11" size="1" desc="Write status disable"/>
            <field name="PR34LKD" bit="12" size="1" desc="PRR3 PRR4 Lock-Down"/>
            <field name="FDOPSS"  bit="13" size="1" desc="Flash Descriptor Override Pin-Strap Status"/>
            <field name="FDV"     bit="14" size="1" desc="Flash Descriptor Valid"/>
            <field name="FLOCKDN" bit="15" size="1" desc="Flash Configuration Lock-Down"/>
            <field name="FGO"     bit="16" size="1" desc="Flash cycle go"/>
            <field name="FCYCLE"  bit="17" size="4" desc="Flash Cycle Type"/>
            <field name="WET"     bit="21" size="1" desc="Write Enable Type"/>
            <field name="FDBC"    bit="24" size="6" desc="Flash Data Byte Count"/>
            <field name="FSMIE"   bit="31" size="1" desc="Flash SPI SMI# Enable"/>
        </register>
        <register name="HSFC" type="mmio" bar="SPIBAR" offset="0x06" size="2" desc="Hardware Sequencing Flash Control Register">
            <field name="FGO"    bit="0"  size="1" desc="Flash Cycle GO"/>
            <field name="FCYCLE" bit="1"  size="4" desc="Flash Cycle"/>
            <field name="WET"    bit="5"  size="1" desc="Write Enable Type"/>
            <field name="FDBC"   bit="8"  size="6" desc="Flash Data Byte Count, Count = FDBC + 1"/>
            <field name="FSMIE"  bit="15" size="1" desc="Flash SPI SMI Enable"/>
        </register>
        <register name="FADDR"   type="mmio" bar="SPIBAR" offset="0x08" size="4" desc="Flash Address Register"/>
        <register name="FDATA0"  type="mmio" bar="SPIBAR" offset="0x10" size="4" desc="Flash Data 0"/>
        <register name="FDATA1"  type="mmio" bar="SPIBAR" offset="0x14" size="4" desc="Flash Data 1"/>
        <register name="FDATA2"  type="mmio" bar="SPIBAR" offset="0x18" size="4" desc="Flash Data 2"/>
        <register name="FDATA3"  type="mmio" bar="SPIBAR" offset="0x1C" size="4" desc="Flash Data 3"/>
        <register name="FDATA4"  type="mmio" bar="SPIBAR" offset="0x20" size="4" desc="Flash Data 4"/>
        <register name="FDATA5"  type="mmio" bar="SPIBAR" offset="0x24" size="4" desc="Flash Data 5"/>
        <register name="FDATA6"  type="mmio" bar="SPIBAR" offset="0x28" size="4" desc="Flash Data 6"/>
        <register name="FDATA7"  type="mmio" bar="SPIBAR" offset="0x2C" size="4" desc="Flash Data 7"/>
        <register name="FDATA8"  type="mmio" bar="SPIBAR" offset="0x30" size="4" desc="Flash Data 8"/>
        <register name="FDATA9"  type="mmio" bar="SPIBAR" offset="0x34" size="4" desc="Flash Data 9"/>
        <register name="FDATA10" type="mmio" bar="SPIBAR" offset="0x38" size="4" desc="Flash Data 10"/>
        <register name="FDATA11" type="mmio" bar="SPIBAR" offset="0x3C" size="4" desc="Flash Data 11"/>
        <register name="FDATA12" type="mmio" bar="SPIBAR" offset="0x40" size="4" desc="Flash Data 12"/>
        <register name="FDATA13" type="mmio" bar="SPIBAR" offset="0x44" size="4" desc="Flash Data 13"/>
        <register name="FDATA14" type="mmio" bar="SPIBAR" offset="0x48" size="4" desc="Flash Data 14"/>
        <register name="FDATA15" type="mmio" bar="SPIBAR" offset="0x4C" size="4" desc="Flash Data 15"/>
        <register name="FRAP" type="mmio" bar="SPIBAR" offset="0x50" size="4" desc="SPI Flash Regions Access Permissions Register">
            <field name="BRRA"  bit="0"  size="8" desc="BIOS Region Read Access"/>
            <field name="BRWA"  bit="8"  size="8" desc="BIOS Region Write Access"/>
            <field name="BMRAG" bit="16" size="8" desc="BIOS Master Read Access Grant"/>
            <field name="BMWAG" bit="24" size="8" desc="BIOS Master Write Access Grant"/>
        </register>
        <register name="FREG0_FLASHD" type="mmio" bar="SPIBAR" offset="0x54" size="4" desc="Flash Region 0 (Flash Descriptor)">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>
        <register name="FREG1_BIOS" type="mmio" bar="SPIBAR" offset="0x58" size="4" desc="Flash Region 1 (BIOS)">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>
        <register name="FREG2_ME" type="mmio" bar="SPIBAR" offset="0x5C" size="4" desc="Flash Region 2 (ME)">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>
        <register name="FREG3_GBE" type="mmio" bar="SPIBAR" offset="0x60" size="4" desc="Flash Region 3 (GBe)">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>
        <register name="FREG4_PD" type="mmio" bar="SPIBAR" offset="0x64" size="4" desc="Flash Region 4 (Platform Data)">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>
        <register name="FREG5" type="mmio" bar="SPIBAR" offset="0x68" size="4" desc="Flash Region 5">
            <field name="RB" bit="0"  size="15" desc="Region Base"/>
            <field name="RL" bit="16" size="15" desc="Region Limit"/>
        </register>

        <register name="PR0" type="mmio" bar="SPIBAR" offset="0x84" size="4" desc="Protected Range 0">
            <field name="PRB" bit="0"  size="15" desc="Protected Range Base"/>
            <field name="RPE" bit="15" size="1"  desc="Read Protection Enabled"/>
            <field name="PRL" bit="16" size="15" desc="Protected Range Limit"/>
            <field name="WPE" bit="31" size="1"  desc="Write Protection Enabled"/>
        </register>
        <register name="PR1" type="mmio" bar="SPIBAR" offset="0x88" size="4" desc="Protected Range 1">
            <field name="PRB" bit="0"  size="15" desc="Protected Range Base"/>
            <field name="RPE" bit="15" size="1"  desc="Read Protection Enabled"/>
            <field name="PRL" bit="16" size="15" desc="Protected Range Limit"/>
            <field name="WPE" bit="31" size="1"  desc="Write Protection Enabled"/>
        </register>
        <register name="PR2" type="mmio" bar="SPIBAR" offset="0x8C" size="4" desc="Protected Range 2">
            <field name="PRB" bit="0"  size="15" desc="Protected Range Base"/>
            <field name="RPE" bit="15" size="1"  desc="Read Protection Enabled"/>
            <field name="PRL" bit="16" size="15" desc="Protected Range Limit"/>
            <field name="WPE" bit="31" size="1"  desc="Write Protection Enabled"/>
        </register>
        <register name="PR3" type="mmio" bar="SPIBAR" offset="0x90" size="4" desc="Protected Range 3">
            <field name="PRB" bit="0"  size="15" desc="Protected Range Base"/>
            <field name="RPE" bit="15" size="1"  desc="Read Protection Enabled"/>
            <field name="PRL" bit="16" size="15" desc="Protected Range Limit"/>
            <field name="WPE" bit="31" size="1"  desc="Write Protection Enabled"/>
        </register>
        <register name="PR4" type="mmio" bar="SPIBAR" offset="0x94" size="4" desc="Protected Range 4">
            <field name="PRB" bit="0"  size="15" desc="Protected Range Base"/>
            <field name="RPE" bit="15" size="1"  desc="Read Protection Enabled"/>
            <field name="PRL" bit="16" size="15" desc="Protected Range Limit"/>
            <field name="WPE" bit="31" size="1"  desc="Write Protection Enabled"/>
        </register>
        <register name="FDOC" type="mmio" bar="SPIBAR" offset="0xB4" size="4" desc="Flash Descriptor Observability Control Register">
            <field name="FDSI" bit="2"  size="10" desc="Flash Descriptor Section Index"/>
            <field name="FDSS" bit="12" size="3"  desc="Flash Descriptor Section Select"/>
        </register>
        <register name="FDOD" type="mmio" bar="SPIBAR" offset="0xB8" size="4" desc="Flash Descriptor Observability Data Register">
            <field name="FDSD" bit="0"  size="32" desc="Flash Descriptor Section Data"/>
        </register>
        <register name="LVSCC" type="mmio" bar="SPIBAR" offset="0xC4" size="4" desc="Lower Vendor Specific Component Capabilities">
            <field name="WG"                 bit="2"  size="1" desc="Write Granularity"/>
            <field name="WSR"                bit="3"  size="1" desc="Write Status Required"/>
            <field name="WEWS"               bit="4"  size="1" desc="Write Enable on Write Status"/>
            <field name="QER"                bit="5"  size="3" desc="Quad Enable Requirements"/>
            <field name="EO_4k"              bit="8"  size="8" desc="4k Erase Opcode"/>
            <field name="EO_64k"             bit="16" size="8" desc="64k Erase Opcode"/>
            <field name="SOFT_RST_SUP"       bit="24" size="1" desc="Soft Reset Supported"/>
            <field name="SUSPEND_RESUME_SUP" bit="25" size="1" desc="Suspend/Resume Supported"/>
            <field name="DEEP_PWRDN_SUP"     bit="26" size="1" desc="Deep Powerdown Supported"/>
            <field name="RPMC_SUP"           bit="27" size="1" desc="RPMC Supported"/>
            <field name="EO_4k_VALID"        bit="28" size="1" desc="4k Erase Valid"/>
            <field name="EO_64k_VALID"       bit="29" size="1" desc="64k Erase Valid"/>
            <field name="VCL"                bit="30" size="1" desc="Vendor Component Lock"/>
            <field name="CPPTV"              bit="31" size="1" desc="Component Property Parameter Table Valid"/>
        </register>
        <register name="UVSCC" type="mmio" bar="SPIBAR" offset="0xC8" size="4" desc="Upper Vendor Specific Component Capabilities">
            <field name="WG"                 bit="2"  size="1" desc="Write Granularity"/>
            <field name="WSR"                bit="3"  size="1" desc="Write Status Required"/>
            <field name="WEWS"               bit="4"  size="1" desc="Write Enable on Write Status"/>
            <field name="QER"                bit="5"  size="3" desc="Quad Enable Requirements"/>
            <field name="EO_4k"              bit="8"  size="8" desc="4k Erase Opcode"/>
            <field name="EO_64k"             bit="16" size="8" desc="64k Erase Opcode"/>
            <field name="SOFT_RST_SUP"       bit="24" size="1" desc="Soft Reset Supported"/>
            <field name="SUSPEND_RESUME_SUP" bit="25" size="1" desc="Suspend/Resume Supported"/>
            <field name="DEEP_PWRDN_SUP"     bit="26" size="1" desc="Deep Powerdown Supported"/>
            <field name="RPMC_SUP"           bit="27" size="1" desc="RPMC Supported"/>
            <field name="EO_4k_VALID"        bit="28" size="1" desc="4k Erase Valid"/>
            <field name="EO_64k_VALID"       bit="29" size="1" desc="64k Erase Valid"/>
            <field name="CPPTV"              bit="31" size="1" desc="Component Property Parameter Table Valid"/>
        </register>

        <register name="BIOS_PTINX" type="mmio" bar="SPIBAR" offset="0xCC" size="4" desc="Parameter Table Index"/>
        <register name="BIOS_PTDATA" type="mmio" bar="SPIBAR" offset="0xD0" size="4" desc="Parameter Table Data"/>
    </registers>
    <controls>
        <control name="FlashLockDown"     register="HSFS" field="FLOCKDN" desc="Flash Configuration Lock-Down"/>
        <control name="SpiWriteStatusDis" register="HSFS" field="WRSDIS"  desc="Write Status Disable"/>
    </controls>
</configuration>